// save interpolation preferencevar saveInterpolation = App.getPref("EditTransformMode");//alert("saved EditTransformMode as " + saveInterpolation);// select all pixelsfw.getDocumentDOM().setSelectionMask(null, "replace");fw.getDocumentDOM().selectAll();// clear everything except 48x48 icons//fw.getDocumentDOM().enterPaintMode(null);//fw.getDocumentDOM().setSelectionMask({maskBounds:{left:22, top:101, right:70, bottom:149}, maskKind:"rectangle", maskEdgeMode:"hard edge", featherAmount:0, maskData:null}, "replace");//fw.getDocumentDOM().setSelectionMask({maskBounds:{left:87, top:101, right:135, bottom:149}, maskKind:"rectangle", maskEdgeMode:"hard edge", featherAmount:0, maskData:null}, "add");//fw.getDocumentDOM().setSelectionMask({maskBounds:{left:152, top:101, right:200, bottom:149}, maskKind:"rectangle", maskEdgeMode:"hard edge", featherAmount:0, maskData:null}, "add");//fw.getDocumentDOM().selectInverse();//fw.getDocumentDOM().deleteSelection(false);// clear everything except 256x256 iconfw.getDocumentDOM().enterPaintMode(null);fw.getDocumentDOM().setSelectionMask({maskBounds:{left:230, top:101, right:486, bottom:357}, maskKind:"rectangle", maskEdgeMode:"hard edge", featherAmount:0, maskData:null}, "replace");fw.getDocumentDOM().selectInverse();fw.getDocumentDOM().deleteSelection(false);// copy 256x256 iconfw.getDocumentDOM().setSelectionMask({maskBounds:{left:230, top:101, right:486, bottom:357}, maskKind:"rectangle", maskEdgeMode:"hard edge", featherAmount:0, maskData:null}, "replace");fw.getDocumentDOM().clipCopy();// change interpolation to bicubicApp.setPref("EditTransformMode", 1);// alert("set EditTransformMode to 1");// generate 32-bit column// paste and scale to create create 48x48 iconfw.getDocumentDOM().enterPaintMode(null);fw.getDocumentDOM().clipPaste("ask user", "vector");fw.getDocumentDOM().setSelectionMask({maskBounds:{left:230, top:101, right:486, bottom:357}, maskKind:"rectangle", maskEdgeMode:"hard edge", featherAmount:0, maskData:null}, "replace");fw.getDocumentDOM().scaleSelection(0.1875, 0.1875, "autoTrimImages transformAttributes");fw.getDocumentDOM().exitPaintMode();fw.getDocumentDOM().moveSelectionBy({x:-312, y:-104}, false, true);fw.getDocumentDOM().mergeDown();// paste and scale to create create 32x32 iconfw.getDocumentDOM().enterPaintMode(null);fw.getDocumentDOM().clipPaste("ask user", "vector");fw.getDocumentDOM().setSelectionMask({maskBounds:{left:230, top:101, right:486, bottom:357}, maskKind:"rectangle", maskEdgeMode:"hard edge", featherAmount:0, maskData:null}, "replace");fw.getDocumentDOM().scaleSelection(0.125, 0.125, "autoTrimImages transformAttributes");fw.getDocumentDOM().exitPaintMode();fw.getDocumentDOM().moveSelectionBy({x:-320, y:-47}, false, true);fw.getDocumentDOM().mergeDown();// paste and scale to create create 24x24 iconfw.getDocumentDOM().enterPaintMode(null);fw.getDocumentDOM().clipPaste("ask user", "vector");fw.getDocumentDOM().setSelectionMask({maskBounds:{left:230, top:101, right:486, bottom:357}, maskKind:"rectangle", maskEdgeMode:"hard edge", featherAmount:0, maskData:null}, "replace");fw.getDocumentDOM().scaleSelection(0.09375, 0.09375, "autoTrimImages transformAttributes");fw.getDocumentDOM().exitPaintMode();fw.getDocumentDOM().moveSelectionBy({x:-324, y:-2}, false, true);fw.getDocumentDOM().mergeDown();// paste and scale to create create 16x16 iconfw.getDocumentDOM().enterPaintMode(null);fw.getDocumentDOM().clipPaste("ask user", "vector");fw.getDocumentDOM().setSelectionMask({maskBounds:{left:230, top:101, right:486, bottom:357}, maskKind:"rectangle", maskEdgeMode:"hard edge", featherAmount:0, maskData:null}, "replace");fw.getDocumentDOM().scaleSelection(0.0625, 0.0625, "autoTrimImages transformAttributes");fw.getDocumentDOM().exitPaintMode();fw.getDocumentDOM().moveSelectionBy({x:-328, y:35}, false, true);fw.getDocumentDOM().mergeDown();// generate 8-bit column// change interpolation to nearest neighborApp.setPref("EditTransformMode", 4);//alert("set EditTransformMode to 4");// paste and scale to create create 48x48 iconfw.getDocumentDOM().enterPaintMode(null);fw.getDocumentDOM().clipPaste("ask user", "vector");fw.getDocumentDOM().setSelectionMask({maskBounds:{left:230, top:101, right:486, bottom:357}, maskKind:"rectangle", maskEdgeMode:"hard edge", featherAmount:0, maskData:null}, "replace");fw.getDocumentDOM().scaleSelection(0.1875, 0.1875, "autoTrimImages transformAttributes");fw.getDocumentDOM().exitPaintMode();fw.getDocumentDOM().moveSelectionBy({x:-247, y:-104}, false, true);fw.getDocumentDOM().mergeDown();// paste and scale to create create 32x32 iconfw.getDocumentDOM().enterPaintMode(null);fw.getDocumentDOM().clipPaste("ask user", "vector");fw.getDocumentDOM().setSelectionMask({maskBounds:{left:230, top:101, right:486, bottom:357}, maskKind:"rectangle", maskEdgeMode:"hard edge", featherAmount:0, maskData:null}, "replace");fw.getDocumentDOM().scaleSelection(0.125, 0.125, "autoTrimImages transformAttributes");fw.getDocumentDOM().exitPaintMode();fw.getDocumentDOM().moveSelectionBy({x:-255, y:-47}, false, true);fw.getDocumentDOM().mergeDown();// paste and scale to create create 24x24 iconfw.getDocumentDOM().enterPaintMode(null);fw.getDocumentDOM().clipPaste("ask user", "vector");fw.getDocumentDOM().setSelectionMask({maskBounds:{left:230, top:101, right:486, bottom:357}, maskKind:"rectangle", maskEdgeMode:"hard edge", featherAmount:0, maskData:null}, "replace");fw.getDocumentDOM().scaleSelection(0.09375, 0.09375, "autoTrimImages transformAttributes");fw.getDocumentDOM().exitPaintMode();fw.getDocumentDOM().moveSelectionBy({x:-259, y:-2}, false, true);fw.getDocumentDOM().mergeDown();// paste and scale to create create 16x16 iconfw.getDocumentDOM().enterPaintMode(null);fw.getDocumentDOM().clipPaste("ask user", "vector");fw.getDocumentDOM().setSelectionMask({maskBounds:{left:230, top:101, right:486, bottom:357}, maskKind:"rectangle", maskEdgeMode:"hard edge", featherAmount:0, maskData:null}, "replace");fw.getDocumentDOM().scaleSelection(0.0625, 0.0625, "autoTrimImages transformAttributes");fw.getDocumentDOM().exitPaintMode();fw.getDocumentDOM().moveSelectionBy({x:-263, y:35}, false, true);fw.getDocumentDOM().mergeDown();// generate 4-bit column// keep interpolation as nearest neighbor// paste and scale to create create 48x48 iconfw.getDocumentDOM().enterPaintMode(null);fw.getDocumentDOM().clipPaste("ask user", "vector");fw.getDocumentDOM().setSelectionMask({maskBounds:{left:230, top:101, right:486, bottom:357}, maskKind:"rectangle", maskEdgeMode:"hard edge", featherAmount:0, maskData:null}, "replace");fw.getDocumentDOM().scaleSelection(0.1875, 0.1875, "autoTrimImages transformAttributes");fw.getDocumentDOM().exitPaintMode();fw.getDocumentDOM().moveSelectionBy({x:-182, y:-104}, false, true);fw.getDocumentDOM().mergeDown();// paste and scale to create create 32x32 iconfw.getDocumentDOM().enterPaintMode(null);fw.getDocumentDOM().clipPaste("ask user", "vector");fw.getDocumentDOM().setSelectionMask({maskBounds:{left:230, top:101, right:486, bottom:357}, maskKind:"rectangle", maskEdgeMode:"hard edge", featherAmount:0, maskData:null}, "replace");fw.getDocumentDOM().scaleSelection(0.125, 0.125, "autoTrimImages transformAttributes");fw.getDocumentDOM().exitPaintMode();fw.getDocumentDOM().moveSelectionBy({x:-190, y:-47}, false, true);fw.getDocumentDOM().mergeDown();// paste and scale to create create 24x24 iconfw.getDocumentDOM().enterPaintMode(null);fw.getDocumentDOM().clipPaste("ask user", "vector");fw.getDocumentDOM().setSelectionMask({maskBounds:{left:230, top:101, right:486, bottom:357}, maskKind:"rectangle", maskEdgeMode:"hard edge", featherAmount:0, maskData:null}, "replace");fw.getDocumentDOM().scaleSelection(0.09375, 0.09375, "autoTrimImages transformAttributes");fw.getDocumentDOM().exitPaintMode();fw.getDocumentDOM().moveSelectionBy({x:-194, y:-2}, false, true);fw.getDocumentDOM().mergeDown();// paste and scale to create create 16x16 iconfw.getDocumentDOM().enterPaintMode(null);fw.getDocumentDOM().clipPaste("ask user", "vector");fw.getDocumentDOM().setSelectionMask({maskBounds:{left:230, top:101, right:486, bottom:357}, maskKind:"rectangle", maskEdgeMode:"hard edge", featherAmount:0, maskData:null}, "replace");fw.getDocumentDOM().scaleSelection(0.0625, 0.0625, "autoTrimImages transformAttributes");fw.getDocumentDOM().exitPaintMode();fw.getDocumentDOM().moveSelectionBy({x:-198, y:35}, false, true);fw.getDocumentDOM().mergeDown();// restore interpolation preferenceApp.setPref("EditTransformMode", saveInterpolation);//alert("restored EditTransformMode to " + saveInterpolation);