<!--

	This html file is intended to be called with showModalDialog().
	
	Syntax:
	var dialogResult=showModalDialog("ChooserDialog.html",Object,"dialogwidth:640; dialogheight:480; resizable:no")
	
	Object is an object with the following properties:
	title: string - This is the window title.
	ask: string - This is for asking the user to make a choice.
	labels: string Array - This is a list of option names.
	values: string Array - This is a list of option Values.
	
	Returns the string chosen from choiceList.
-->

<style>
form {width:100%; height:100%; text-align:center; padding:0; margin:0;}

select {width:95%; height:80%;}
</style>
<form>

	<label><span id=prompter></span><br/><select id=chooser multiple onChange="btnOK.disabled=(!this[this.selectedIndex]);" ></select></label>
	<br>
	<button id=btnOK onClick="returnValue=chooser[chooser.selectedIndex].value; window.close();" disabled >OK</button>
	<button id=btnCancel onClick="returnValue=false; window.close();" >Cancel</button>
<script>
	returnValue=false;
	
	var da=dialogArguments;
	
	document.title=da.title;
	
	prompter.innerHTML=da.ask;
	
	var oHTML='';
	var lower=da.labels.length>da.values.length ? da.labels.length : da.values.length;
	for (var lI=0; lI<lower; lI++) {
		oHTML+='<option id=opt'+lI+' value="'+da.values[lI]+'" ondblclick="returnValue='+da.values[lI]+'; window.close();" >'+da.labels[lI]+'</option>';
	}
	
	chooser.innerHTML=oHTML;
	
</script>
</form>
